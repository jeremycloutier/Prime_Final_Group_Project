var app=angular.module("myApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/pieChart.html",controller:"pieChartController"}).when("/lineGraph",{templateUrl:"views/lineGraph.html",controller:"lineGraphController"}),b.html5Mode(!0)}]),app.controller("MainController",["$scope","$location","SmartSheetService",function(a,b,c){a.endDate=new Date,a.startDate=new Date("2012-05-08"),a.smartSheetData=[],c.getSmartSheetData().then(function(b){a.smartSheetData=b.data,a.submitDate()}),a.submitDate=function(){a.numServed=0,a.numCompleted=0,a.numCertified=0,a.numPlaced=0,a.numCertNetwork=0,a.numCertServer=0,a.numCertSecurity=0,a.completedPercent=0;for(var b=0;b<a.smartSheetData.length;b++){var c=new Date(a.smartSheetData[b].classStart);console.log("object number"+b+" "+a.smartSheetData[b]);var d=c.setDate(c.getDate()+1);d>=a.startDate&&d<=a.endDate&&(a.numServed++,a.smartSheetData[b].gradDate&&(a.numCompleted++,a.completedPercent=Number(Math.round(a.numCompleted/a.numServed*100+"e2")+"e-2")),a.smartSheetData[b].certDate&&(a.numCertified++,a.percentCertified=Number(Math.round(a.numCertified/a.numServed*100+"e2")+"e-2")),a.smartSheetData[b].networkPlus&&(a.numCertNetwork++,a.percentCertNetwork=Number(Math.round(a.numCertNetwork/a.numServed*100+"e2")+"e-2")),a.smartSheetData[b].serverPlus&&(a.numCertServer++,a.percentCertServer=Number(Math.round(a.numCertServer/a.numServed*100+"e2")+"e-2")),a.smartSheetData[b].securityPlus&&(a.numCertSecurity++,a.percentCertSecurity=Number(Math.round(a.numCertSecurity/a.numServed*100+"e2")+"e-2")),a.smartSheetData[b].placedFullTime&&(a.numPlaced++,a.percentPlaced=Number(Math.round(a.numPlaced/a.numServed*100+"e2")+"e-2")))}},a.demographicList=["Age","Gender","Race","Veteran Status"],a.progressList=["Served","Completed","Certified A+","Placed"],a.tab="a",a.averageShow=!1,a.generateCharts=function(a,b){console.log("demographics, progress",a,b)},a.showAverageSalary=function(){a.averageShow=!0},a.hideAverageSalary=function(){a.averageShow=!1}}]),app.controller("pieChartController",["$scope","$location",function(a,b){a.pie="this pie chart view is controlled",function(a){"use strict";var b=[{label:"This",count:50},{label:"That",count:50},{label:"TheOther",count:10}],c=360,d=360,e=Math.min(c,d)/2,f=a.scale.ordinal().range(["red","blue","yellow","green"]),g=a.select("#chart").append("svg").attr("width",c).attr("height",d).append("g").attr("transform","translate("+c/2+","+d/2+")"),h=a.svg.arc().outerRadius(e),i=a.layout.pie().value(function(a){return a.count}).sort(null);g.selectAll("path").data(i(b)).enter().append("path").attr("d",h).attr("fill",function(a,b){return f(a.data.label)})}(window.d3)}]),app.controller("lineGraphController",["$scope","$location",function(a,b){a.line="this line Graph view is controlled"}]),app.factory("SmartSheetService",["$http",function(a){var b=function(){return a.get("/api")};return{getSmartSheetData:b}}]);